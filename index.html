<html>
	<head>
		<title>My first Three.js app</title>
		<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
	<body>
		<script src="js/three.min.js"></script>
		<script src="js/scene-objects.js"></script>
		<script src="js/lib.js"></script>
		<script src="js/camera.js"></script>
		<script src="js/movement.js"></script>
		<script src="js/handlers.js"></script>
		<script src="js/generators.js"></script>
		<div id="help-message">
			<span>Try to find and grab the coin. The bar below shows how near you are.</span>
			<div id="bar">
				<div id="progress"></div>
			</div>
		</div>
		<img class="controls" src="img/controls.png" alt="control buttons" >
		</img>
		<script>
			var scene = new THREE.Scene();
			var lastTime = 0, joggingAngle = 0, elapsed=0;
			var keyMap = [];

			var renderer = new THREE.WebGLRenderer({ antialias: true });
			renderer.shadowMapEnabled = true;
			renderer.shadowMapType = THREE.PCFSoftShadowMap;
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			createSceneObjects(scene);
			
    		var cameraEquipment = createCameraEquipment();
    		scene.add(cameraEquipment.neck);

			document.addEventListener("keydown", onDocumentKeyDown, true); 
			document.addEventListener("keyup", onDocumentKeyUp, true);

			var render = function () {
				requestAnimationFrame( render );
				renderer.render(scene, cameraEquipment.getCamera());

				var timeNow = new Date().getTime();
    			if (lastTime != 0) {
      				elapsed = timeNow - lastTime;
      			}
      			lastTime = timeNow;

      			executeMovement();
			};
			render();
		</script>
		
	</body>
</html>